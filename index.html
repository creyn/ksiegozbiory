<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weź przeczytaj - Katalog Polecanych Książek</title>
    <!-- Google Analytics -->
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K215K2HJMH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-K215K2HJMH');
</script>
    <style>
        :root {
            --bg-primary: #1a1a1a;
            --bg-secondary: #252525;
            --accent: #bb86fc;
            --text-primary: #ffffff;
            --text-secondary: #cccccc;
            --card-bg: #333333;
            --card-hover: #404040;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
        }
        
        header {
            background-color: var(--bg-secondary);
            padding: 1.5rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            z-index: 100;
            background-image: linear-gradient(rgba(25, 25, 25, 0.50), rgba(25, 25, 25, 0.85)), url('https://images.unsplash.com/photo-1588580000645-4562a6d2c839?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: var(--accent);
            text-align: center;
        }
        
        .subtitle {
            text-align: center;
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }
        
        .search-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
            background-color: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 8px;
        }
        
        .search-bar {
            display: flex;
            width: 100%;
            position: relative;
        }
        
        .search-input {
            flex-grow: 1;
            padding: 0.8rem 1rem;
            font-size: 1rem;
            border: none;
            background-color: var(--card-bg);
            color: var(--text-primary);
            border-radius: 4px 0 0 4px;
        }
        
        .search-button {
            padding: 0.8rem 1.5rem;
            background-color: var(--accent);
            color: #000;
            border: none;
            font-weight: bold;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .search-button:hover {
            background-color: #9d71d6;
        }
        
        .filter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        .filter-button {
            padding: 0.5rem 1rem;
            background-color: var(--card-bg);
            color: var(--text-primary);
            border: 1px solid var(--accent);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .filter-button:hover, .filter-button.active {
            background-color: var(--accent);
            color: #000;
        }
        
        .book-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 1.5rem;
        }
        
        .book-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .book-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            background-color: var(--card-hover);
        }
        
        .book-cover {
            width: 100%;
            height: 250px;
            object-fit: cover;
        }
        
        .book-info {
            padding: 1.5rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .book-title {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--accent);
        }
        
        .book-author {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }
        
        .book-description {
            margin-bottom: 1.5rem;
            flex-grow: 1;
        }
        
        .book-recommender {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .recommender-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-right: 0.5rem;
        }
        
        .recommender-name {
            font-weight: bold;
            color: var(--accent);
        }
        
        .book-links {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        .book-link {
            padding: 0.5rem 1rem;
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            text-decoration: none;
            border-radius: 4px;
            font-size: 0.9rem;
            transition: background-color 0.2s;
            text-align: center;
        }
        
        .book-link:hover {
            background-color: var(--accent);
            color: #000;
        }
        
        .no-results {
            text-align: center;
            font-size: 1.2rem;
            color: var(--text-secondary);
            padding: 2rem;
            grid-column: 1 / -1;
        }
        
        footer {
            margin-top: 3rem;
            text-align: center;
            padding: 1.5rem;
            background-color: var(--bg-secondary);
            color: var(--text-secondary);
        }
        
        @media (max-width: 768px) {
            .book-grid {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            }
            
            .search-bar {
                flex-direction: column;
            }
            
            .search-input {
                border-radius: 4px 4px 0 0;
            }
            
            .search-button {
                border-radius: 0 0 4px 4px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Weź przeczytaj</h1>
            <p class="subtitle">Katalog książek polecanych przez wyjątkowych ludzi</p>
        </div>
    </header>
    
    <main class="container">
        <div class="search-container">
            <div class="search-bar">
                <input type="text" class="search-input" id="search-input" placeholder="Szukaj książek, autorów, opisów...">
                <button class="search-button" id="search-button">Wyczyść</button>
            </div>
            <div class="filter-buttons" id="filter-buttons">
                <!-- Przyciski będą generowane dynamicznie przez JavaScript -->
            </div>
        </div>
        
        <div class="book-grid" id="book-grid">
            <!-- Książki będą tutaj dodawane dynamicznie przez JavaScript -->
        </div>
    </main>
    
    <footer>
        <p>&copy; 2025 Weź przeczytaj | Katalog Polecanych Książek</p>
        <p class="affiliate-info">Linki do zakupu książek to linki afiliacyjne z których korzyści czerpią bibliotekarze. Jeśli chcesz zostać bibliotekarzem i dodawać własne afiliacyjne linki napisz na wezprzeczytaj@creyn.pl</p>
    </footer>
    
    <style>
        .affiliate-info {
            max-width: 800px;
            margin: 0.5rem auto 0;
            font-size: 0.9rem;
            line-height: 1.4;
        }
    </style>
    
    <script>
        // Dane książek
        const books = [
    {
      "id": 1,
      "title": "Revolusi. Indonezja i narodziny nowoczesnego świata",
      "author": "David Van Reybrouck",
      "cover": "https://a.allegroimg.com/s512/115cb3/90c06abf4ef1bf3524c1221de06c/REVOLUSI-INDONEZJA-I-NARODZINY-NOWOCZESNEGO-SWIAT-DAVID-VAN-REYBROUCK",
      "description": "Książka opowiada o historii Indonezji, pierwszego państwa, które ogłosiło niepodległość po II wojnie światowej. Autor przedstawia jak wyglądały relacje między miejscową ludnością a holenderskimi kolonistami oraz jak system kolonialny po II wojnie światowej zaczął upadać.",
      "recommender": "Rajmund Andrzejczak, Sławomir Dębski (Ground Zero)",
      "links": [
        { "title": "Allegro", "url": "https://allegro.pl/oferta/revolusi-indonezja-i-narodziny-nowoczesnego-swiat-david-van-reybrouck-16367805682?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=fb5ed4f1719d#" }
      ]
    },
    {
      "id": 4,
      "title": "Tyrani. Triumf, władza, upadek",
      "author": "Marcel Dirsus",
      "cover": "https://a.allegroimg.com/s512/2597cc/4017b92844048467db3538a57dcb/Tyrani-Marcel-Dirsus",
      "description": "Książka analizująca mechanizmy władzy tyranów, którzy rządzą poprzez strach i wymuszanie lojalności. Autor bada jak systemy despotyczne funkcjonowały na przestrzeni dziejów.",
      "recommender": "Rajmund Andrzejczak, Sławomir Dębski (Ground Zero)",
      "links": [
        { "title": "Allegro", "url": "https://allegro.pl/oferta/tyrani-marcel-dirsus-17476867411?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=edf7facdd763#" }
      ]
    },
    {
      "id": 5,
      "title": "Kaput. Koniec niemieckiego cudu gospodarczego",
      "author": "Wolfgang Münchau",
      "cover": "https://a.allegroimg.com/s512/117cad/e997d7cc4df5846a7bc4bb028939/KAPUT-KONIEC-NIEMIECKIEGO-CUDU-GOSPODARCZEGO-WOLFGANG-MUeNCHAU",
      "description": "Analiza zmiany modelu gospodarczego Niemiec, jej przyczyn i konsekwencji. Książka pierwotnie wydana w języku angielskim, teraz dostępna po polsku, opisuje schyłek niemieckiego cudu gospodarczego.",
      "recommender": "Rajmund Andrzejczak, Sławomir Dębski (Ground Zero)",
      "links": [
        { "title": "Allegro", "url": "https://allegro.pl/oferta/kaput-koniec-niemieckiego-cudu-gospodarczego-wolfgang-munchau-17324159842?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=4bcb6b5e1a7f#" }
      ]
    },
    {
      "id": 6,
      "title": "Kampania polska 1939. Wojna bez walnej bitwy",
      "author": "Tadeusz Kutrzeba",
      "cover": "https://a.allegroimg.com/s512/11d5cf/91ba021847048b1f77a71333fe5c/Kampania-Polska-1939-Wojna-bez-walnej-bitwy",
      "description": "Analiza kampanii wrześniowej 1939 roku autorstwa generała Tadeusza Kutrzeby, dowódcy Armii Poznań. Książka zawiera studia i dokumenty częściowo pochodzące z Instytutu Sikorskiego, stanowi ważne źródło wiedzy o początkach II wojny światowej w Polsce.",
      "recommender": "Rajmund Andrzejczak, Sławomir Dębski (Ground Zero)",
      "links": [
        { "title": "Allegro", "url": "https://allegro.pl/oferta/kampania-polska-1939-wojna-bez-walnej-bitwy-15817101354?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=911e93e0d7ea#" }
      ]
    },
    {
      "id": 7,
      "title": "Modern Strategy",
      "author": "Colin Gray",
      "cover": "https://a.allegroimg.com/s512/1117cf/45a470ba4decb4796130231ad528/Modern-Strategy-COLIN-GRAY",
      "description": "Klasyczne dzieło z zakresu myśli strategicznej autorstwa Colina Graya, jednego z najważniejszych teoretyków strategii. Książka rekomendowana do przetłumaczenia na język polski przez prowadzących program Grand Zero.",
      "recommender": "Rajmund Andrzejczak, Sławomir Dębski (Ground Zero)",
      "links": [
        { "title": "Allegro", "url": "https://allegro.pl/oferta/modern-strategy-colin-gray-16699034005?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=ce69dd5d9c8e#" }
      ]
    },
  {
    "id": 11,
    "title": "Flet z Mandragory",
    "author": "Waldemar Łysiak",
    "cover": "https://a.allegroimg.com/s512/1127b6/c569f8ff455f947a80e689c33779/FLET-Z-MANDRAGORY-Waldemar-Lysiak-NOWA",
    "description": "Jedna z książek Łysiaka, znanego autora i napoleonisty, tworzącego dzieła o niesamowitym klimacie.",
    "recommender": "Jacek Bartosiak (Strategy&Future)",
    "links": [
      { "title": "Allegro", "url": "https://allegro.pl/oferta/flet-z-mandragory-waldemar-lysiak-nowa-17252083227?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=7a5c7aef4c56#" }
    ]
  },
  {
    "id": 12,
    "title": "The Gates of Europe",
    "author": "Serhii Plokhy",
    "cover": "https://9.allegroimg.com/s512/00e3bd/cf6b788d4ea29e6a102b9272b969",
    "description": "Książka o historii Ukrainy, zawierająca również informacje o Rzeczypospolitej Obojga Narodów (Commonwealth).",
    "recommender": "Jacek Bartosiak (Strategy&Future)",
    "links": [
      { "title": "Allegro", "url": "https://allegro.pl/oferta/the-gates-of-europe-sehrii-plokhy-17314076556?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=7c5179f611b1#" }
    ]
  },
  {
    "id": 14,
    "title": "Battle for Spain",
    "author": "Antony Beevor",
    "cover": "https://a.allegroimg.com/s512/11b5b3/1ba0edb44a9394f566b85bb00450",
    "description": "Książka o hiszpańskiej wojnie domowej w latach 30. XX wieku, napisana przez znanego historyka. Szczególnie polecana osobom zainteresowanym Hiszpanią.",
    "recommender": "Jacek Bartosiak (Strategy&Future)",
    "links": [
      { "title": "Allegro", "url": "https://allegro.pl/oferta/the-battle-for-spain-antony-beevor-17064795048?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=6ef235452b8b#" }
    ]
  },
  {
    "id": 15,
    "title": "Tender is the Night",
    "author": "F. Scott Fitzgerald",
    "cover": "https://a.allegroimg.com/s512/114ce2/b162db624db1bfeab86110f71579/Tender-is-the-Night-Francis-Scott-Fitzgerald",
    "description": "Powieść osadzona w klimacie Riwiery Francuskiej, o której Bartosiak słyszał pochlebne recenzje.",
    "recommender": "Jacek Bartosiak (Strategy&Future)",
    "links": [
      { "title": "Allegro", "url": "https://allegro.pl/oferta/tender-is-the-night-francis-scott-fitzgerald-12868270437?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=170d622fc48c#" }
    ]
  },
  {
    "id": 16,
    "title": "Spain in Our Hearts",
    "author": "Adam Hochschild",
    "cover": "https://a.allegroimg.com/s512/11311d/019456ed462b9b2a4b9c6af2602d/SPAIN-IN-OUR-HEARTS-ADAM-HOCHSCHILD",
    "description": "Książka o Amerykanach w hiszpańskiej wojnie domowej, w tym o Hemingwayu i innych postaciach z tego okresu.",
    "recommender": "Jacek Bartosiak (Strategy&Future)",
    "links": [
      { "title": "Allegro", "url": "https://allegro.pl/oferta/spain-in-our-hearts-adam-hochschild-15100442518?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=6b17218c04fd#" }
    ]
  },
  {
    "id": 17,
    "title": "Dubaj",
    "author": "Jacek Pałkiewicz",
    "cover": "https://a.allegroimg.com/s512/00f377/6bfb11e5434780c95b78ae8dfad9/Dubaj-Jacek-Palkiewicz",
    "description": "Krytyczna książka znanego podróżnika o Dubaju, pokazująca, że prawdziwe oblicze tego miasta może być inne niż powszechnie przedstawiane.",
    "recommender": "Jacek Bartosiak (Strategy&Future)",
    "links": [
      { "title": "Allegro", "url": "https://allegro.pl/oferta/dubaj-jacek-palkiewicz-12177855262?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=c4a935bd6b5a#" }
    ]
  },
  {
    "id": 18,
    "title": "Twórcy nowoczesnej strategii. Od starożytności do współczesności",
    "author": "Pod redakcją Hala Brandsa",
    "cover": "https://a.allegroimg.com/s512/11bd7c/2729dea446888fb8bac4b48ab126/Tworcy-nowoczesnej-strategii-Od-starozytnosci-do-ery-cyfrowej-Brands-Hal",
    "description": "Obszerna praca o twórcach strategii od starożytności po czasy współczesne, obejmująca myśl Stalina, Mao Zedonga, Sun Zi, Machiavellego, Tukidydesa, Richelieu, Mazarina, Napoleona, Quincy Adamsa, strategię brytyjskiego imperium, wojny XX wieku, strategię nuklearną i wiele innych. Wstęp napisali generał Rajmund Andrzejczak i Sławomir Dębski.",
    "recommender": "Jacek Bartosiak (Strategy&Future)",
    "links": [
      { "title": "Allegro", "url": "https://allegro.pl/oferta/tworcy-nowoczesnej-strategii-od-starozytnosci-do-ery-cyfrowej-brands-hal-17431791752?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=75e1db451bb2#" }
    ]
  },
  {
    "id": 19,
    "title": "Lontano",
    "author": "Jean-Christophe Grangé",
    "cover": "https://a.allegroimg.com/s512/11fce4/0fc5fd5d43c1941612bfa223fb38/LONTANO-Jean-Christophe-Grange-tk",
    "description": "Powieść o Kongo i handlarzach różnymi towarami, polecana jako lektura na wakacje i majówkę.",
    "recommender": "Jacek Bartosiak (Strategy&Future)",
    "links": [
      { "title": "Allegro", "url": "https://allegro.pl/oferta/lontano-jean-christophe-grange-tk-17167494839?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=8cd4c9b23894#" }
    ]
  },
  {
    "id": 22,
    "title": "Plac zgody. Wieczyście neutralna Szwajcaria",
    "author": "John McPhee",
    "cover": "https://a.allegroimg.com/s512/1166b1/f36c0b984a2ab0d66d7f0a6fa94c/Plac-Zgody-Wieczyscie-neutralna-Szwajcaria-John-McPhee",
    "description": "Książka o Szwajcarii, jej rezerwach osobowych, systemie militarnym i micie pokojowego kraju. Wydana przez Wydawnictwo Czarne.",
    "recommender": "Jacek Bartosiak (Strategy&Future)",
    "links": [
      { "title": "Allegro", "url": "https://allegro.pl/oferta/plac-zgody-wieczyscie-neutralna-szwajcaria-john-mcphee-17323107524?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=6e061c29b416#" }
    ]
  },
  {
    "id": 24,
    "title": "Myśl strategiczna Juliana Corbetta",
    "author": "Krzysztof Kubiak, Roman Kochnowski, Anna Kochnowska",
    "cover": "https://a.allegroimg.com/s512/11f636/c1d5e7054a48b4687a55cf7a84a4/MYSL-STRATEGICZNA-JULIANA-CORBETTA",
    "description": "Książka o twórcy strategii morskiej imperium brytyjskiego z początku XX wieku i jej współczesnym oddziaływaniu.",
    "recommender": "Jacek Bartosiak (Strategy&Future)",
    "links": [
      { "title": "Allegro", "url": "https://allegro.pl/oferta/mysl-strategiczna-juliana-corbetta-17213162096?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=6f0f0ab51bb0#" }
    ]
  },
  {
    "id": 25,
    "title": "Bunt rojstów",
    "author": "Józef Mackiewicz",
    "cover": "https://a.allegroimg.com/s512/112e2b/687646cb486a8d9ee8168149d573/Mackiewicz-Jozef-Bunt-rojstow",
    "description": "Zbiór reportaży z Wileńszczyzny i Kresów z lat 30. XX wieku. Pierwsza książka Mackiewicza, do której Bartosiak planuje powrócić.",
    "recommender": "Jacek Bartosiak (Strategy&Future)",
    "links": [
      { "title": "Allegro", "url": "https://allegro.pl/oferta/mackiewicz-jozef-bunt-rojstow-16079599524?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=f0d8fe729008#" }
    ]
  },
		{
    "id": 26,
    "title": "Twórcy nowoczesnej strategii. Od starożytności do współczesności",
    "author": "Pod redakcją Hala Brandsa",
    "cover": "https://a.allegroimg.com/s512/11bd7c/2729dea446888fb8bac4b48ab126/Tworcy-nowoczesnej-strategii-Od-starozytnosci-do-ery-cyfrowej-Brands-Hal",
    "description": "Obszerna praca o twórcach strategii od starożytności po czasy współczesne, obejmująca myśl Stalina, Mao Zedonga, Sun Zi, Machiavellego, Tukidydesa, Richelieu, Mazarina, Napoleona, Quincy Adamsa, strategię brytyjskiego imperium, wojny XX wieku, strategię nuklearną i wiele innych. Wstęp napisali generał Rajmund Andrzejczak i Sławomir Dębski.",
    "recommender": "Rajmund Andrzejczak, Sławomir Dębski (Ground Zero)",
    "links": [
      { "title": "Allegro", "url": "https://allegro.pl/oferta/tworcy-nowoczesnej-strategii-od-starozytnosci-do-ery-cyfrowej-brands-hal-17431791752?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=75e1db451bb2#" }
    ]
  },

		{
    "id": 27,
    "title": "Psychoterapia na co dzień. Wykłady radiowe",
    "author": "Viktor E. Frankl",
    "cover": "https://a.allegroimg.com/s512/11c821/c697e5a74eb3b6d52a19ec9f5d39/Psychoterapia-na-co-dzien-Wyklady-radiowe",
    "description": "Viktor E. Frankl w przystępnych wykładach radiowych przybliża podstawy psychoterapii, poszukiwanie sensu życia oraz sposoby radzenia sobie z codziennymi wyzwaniami. Jego refleksje, poparte własnym doświadczeniem, pozostają aktualne i inspirujące.",
    "recommender": "Joanna Flis",
    "links": [
      { "title": "Allegro", "url": "https://allegro.pl/oferta/psychoterapia-na-co-dzien-wyklady-radiowe-17096058088?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=f161a6c4-382d-4355-9794-b1c9b87b683b&utm_content=d44faa92f5dd#" }
    ]
},
		{
    "id": 28,
    "title": "Śpij, jedz i ruszaj się zgodnie ze swoim rytmem okołodobowym",
    "author": "Satchin Panda",
    "cover": "https://a.allegroimg.com/s512/117160/7efe7a6a4d79817ff3f01d6b079e/Spij-jedz-i-ruszaj-sie-zgodnie-ze-swoim-rytmem-okolodobowym",
    "description": "Książka odkrywa tajniki rytmu okołodobowego i pokazuje, jak dostosować sen, odżywianie oraz aktywność fizyczną do naturalnego zegara biologicznego. Dzięki praktycznym wskazówkom pomaga poprawić jakość snu, zwiększyć energię i lepiej zarządzać codziennym życiem.",
    "recommender": "Joanna Flis",
    "links": [
      { "title": "Allegro", "url": "https://allegro.pl/oferta/spij-jedz-i-ruszaj-sie-zgodnie-ze-swoim-rytmem-okolodobowym-17349609400?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=f161a6c4-382d-4355-9794-b1c9b87b683b&utm_content=ea304582bc09#" }
    ]
},
{
    "id": 29,
    "title": "Glukozowa rewolucja",
    "author": "Jessie Inchauspé",
    "cover": "https://a.allegroimg.com/original/1105cf/ab82a29d4d5ebc26575f5f56d66a/Glukozowa-rewolucja-Jessie-Inchauspe",
    "description": "Glukozowa rewolucja. Kontroluj poziom cukru we krwi, odzyskaj energię i jedz to, na co masz ochotę.",
    "recommender": "Paweł Kowalik",
    "links": [
      { "title": "Allegro", "url": "https://allegro.pl/oferta/glukozowa-rewolucja-jessie-inchauspe-13651779487?utm_medium=afiliacja&utm_source=ctr_2&utm_campaign=7b11ef45-7733-4bfd-b82b-3b9da671367a&utm_content=4ff8f34014c3#" }
    ]
}


        ];

        
        // Funkcje pomocnicze
        // Funkcja debounce - zapobiega zbyt częstemu wywoływaniu funkcji
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }
        
        // Funkcja do śledzenia kliknięć w linki zakupowe
        function trackAffiliateClick(bookTitle, linkTitle) {
            gtag('event', 'affiliate_link_click', {
                'event_category': 'Affiliate Links',
                'event_label': `${bookTitle} - ${linkTitle}`,
                'value': 1
            });
        }
        
        // Funkcja renderująca książki
        function renderBooks(booksToRender) {
            const bookGrid = document.getElementById('book-grid');
            bookGrid.innerHTML = '';
            
            if (booksToRender.length === 0) {
                const noResults = document.createElement('div');
                noResults.className = 'no-results';
                noResults.textContent = 'Nie znaleziono pasujących książek.';
                bookGrid.appendChild(noResults);
                return;
            }
            
            booksToRender.forEach(book => {
                const bookCard = document.createElement('div');
                bookCard.className = 'book-card';
                bookCard.dataset.id = book.id;
                
                // Utwórz HTML dla karty książki
                bookCard.innerHTML = `
                    <img src="${book.cover}" alt="${book.title}" class="book-cover">
                    <div class="book-info">
                        <h2 class="book-title">${book.title}</h2>
                        <p class="book-author">${book.author}</p>
                        <p class="book-description">${book.description}</p>
                        <div class="book-recommender">
                            <span class="recommender-label">Poleca:</span>
                            <span class="recommender-name">${book.recommender}</span>
                        </div>
                        <div class="book-links">
                            ${book.links.map(link => `
                                <a href="${link.url}" class="book-link" target="_blank" 
                                   onclick="trackAffiliateClick('${book.title.replace(/'/g, "\\'")}', '${link.title.replace(/'/g, "\\'")}'); return true;">${link.title}</a>
                            `).join('')}
                        </div>
                    </div>
                `;
                
                bookGrid.appendChild(bookCard);
            });
        }
        
        // Funkcja wyszukiwania
        function searchBooks(query) {
            if (!query) {
                return books;
            }
            
            query = query.toLowerCase();
            return books.filter(book => {
                return (
                    book.title.toLowerCase().includes(query) ||
                    book.author.toLowerCase().includes(query) ||
                    book.description.toLowerCase().includes(query) ||
                    book.recommender.toLowerCase().includes(query)
                );
            });
        }
        
        // Funkcja filtrowania według polecającego
        function filterByRecommender(recommender) {
            if (recommender === 'wszystkie') {
                return books;
            }
            
            return books.filter(book => book.recommender === recommender);
        }
        
        // Obsługa wyszukiwania
        const searchInput = document.getElementById('search-input');
        const searchButton = document.getElementById('search-button');
        
        // Funkcja realizująca wyszukiwanie
        function performSearch() {
            const query = searchInput.value.trim();
            const filteredBooks = searchBooks(query);
            renderBooks(filteredBooks);
            
            // Resetowanie aktywnych filtrów
            document.querySelectorAll('.filter-button').forEach(button => {
                if (button.dataset.recommender === 'wszystkie') {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });
            
            // Aktualizacja parametru URL dla wyszukiwania
            if (query) {
                const newUrl = new URL(window.location);
                newUrl.searchParams.set('q', query);
                window.history.pushState({}, '', newUrl);
            } else {
                const newUrl = new URL(window.location);
                newUrl.searchParams.delete('q');
                window.history.pushState({}, '', newUrl);
            }
        }
        
        // Zastosowanie debounce do wyszukiwania - opóźnienie 300ms
        const debouncedSearch = debounce(performSearch, 300);
        
        // Wyszukiwanie na bieżąco podczas pisania
        searchInput.addEventListener('input', debouncedSearch);
        
        // Przycisk "Wyczyść"
        searchButton.addEventListener('click', () => {
            searchInput.value = '';
            performSearch();
            searchInput.focus();
        });
        
        // Obsługa klawisza Enter
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                performSearch();
            }
        });
        
        // Obsługa przycisków filtrujących
        const filterButtons = document.getElementById('filter-buttons');
        
        filterButtons.addEventListener('click', (e) => {
            if (e.target.classList.contains('filter-button')) {
                // Usuń klasę active ze wszystkich przycisków
                document.querySelectorAll('.filter-button').forEach(button => {
                    button.classList.remove('active');
                });
                
                // Dodaj klasę active do klikniętego przycisku
                e.target.classList.add('active');
                
                // Filtruj książki
                const recommender = e.target.dataset.recommender;
                const filteredBooks = filterByRecommender(recommender);
                
                // Wyczyść pole wyszukiwania
                searchInput.value = '';
                
                // Aktualizacja URL, usunięcie parametru wyszukiwania
                const newUrl = new URL(window.location);
                newUrl.searchParams.delete('q');
                window.history.pushState({}, '', newUrl);
                
                // Renderuj przefiltrowane książki
                renderBooks(filteredBooks);
            }
        });
        
        // Funkcja generująca przyciski filtrujące
        function generateFilterButtons() {
            const filterButtonsContainer = document.getElementById('filter-buttons');
            filterButtonsContainer.innerHTML = '';
            
            // Dodaj przycisk "Wszystkie"
            const allButton = document.createElement('button');
            allButton.className = 'filter-button active';
            allButton.dataset.recommender = 'wszystkie';
            allButton.textContent = 'Wszystkie';
            filterButtonsContainer.appendChild(allButton);
            
            // Pobierz unikalne wartości polecających
            const recommenders = [...new Set(books.map(book => book.recommender))];
            
            // Stwórz przycisk dla każdego polecającego
            recommenders.forEach(recommender => {
                const button = document.createElement('button');
                button.className = 'filter-button';
                button.dataset.recommender = recommender;
                button.textContent = recommender;
                filterButtonsContainer.appendChild(button);
            });
        }
        
        // Obsługa parametrów URL i ładowanie danych z URL
        function loadFromUrlParams() {
            const urlParams = new URLSearchParams(window.location.search);
            const queryParam = urlParams.get('q');
            
            if (queryParam) {
                searchInput.value = queryParam;
                performSearch();
            }
        }
        
        // Inicjalizacja - pokaż wszystkie książki na starcie
        document.addEventListener('DOMContentLoaded', () => {
            // Generuj przyciski filtrujące
            generateFilterButtons();
            
            // Sprawdź czy istnieją parametry URL do wyszukiwania
            loadFromUrlParams();
            
            // Jeśli nie ma parametrów URL, renderuj wszystkie książki
            if (!searchInput.value) {
                renderBooks(books);
            }
        });
    </script>
</body>
</html>
